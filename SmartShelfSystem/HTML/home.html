<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link href="https://fonts.googleapis.com/css2?family=Playwrite+NZ+Basic+Guides&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">    
    <link rel="stylesheet" href="{{ url_for('static', filename='CSS/home.css') }}">
</head>
<body>
    <nav id="sidebar">
        <ul>
            <li>
                <h1 class="name">Smart<span>SHELF</span></h1>
                <button id="toggle-btn">
                    <img src="{{ url_for('static', filename='Icons/arrow-left.svg') }}">
                </button>
            </li>
            <div class="main-dash">
                <li class="active">
                    <a href="dashboard.html">
                        <img src="{{ url_for('static', filename='Icons/dashboard.svg') }}">
                        <span>Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="shelves.html">
                        <img src="{{ url_for('static', filename='Icons/shelves.svg') }}">
                        <span>Shelves</span>
                    </a>
                </li>
                <li>
                    <a href="reports.html">
                        <img src="{{ url_for('static', filename='Icons/reports.svg') }}">
                        <span>Reports</span>
                    </a>
                </li>
                <li>
                    <a href="settings.html">
                        <img src="{{ url_for('static', filename='Icons/settings.svg') }}">
                        <span>Settings</span>
                    </a>
                </li>
            </div>
        </ul>
    </nav>

    <main>
        <div class="main-status">
            <div class="total-fruits">
                <div class="status-wrapper">
                    <span class="status">Total Fruits</span>
                    <button class="btn-down">
                        <img src="{{ url_for('static', filename='Icons/arrow-down.png') }}" class="fruit-icon">
                    </button>
                </div>
                <img src="{{ url_for('static', filename='IMAGE/total-fruits.png') }}" class="main-img">
            </div>
            <div class="fresh">
                <div class="status-wrapper">
                    <span class="status">Fresh</span>
                    <button class="btn-down">
                        <img src="{{ url_for('static', filename='Icons/arrow-down.png') }}" class="fruit-icon">
                    </button>
                </div>
                <img src="{{ url_for('static', filename='IMAGE/fresh.png') }}" class="main-img">
            </div>
            <div class="needs-attention">
                <span class="status">Needs Attention</span>
                <img src="{{ url_for('static', filename='IMAGE/needs-attention.png') }}" class="main-img">
            </div>
            <div class="spoiled">
                <span class="status">Spoiled</span>
                <img src="{{ url_for('static', filename='IMAGE/spoiled.png') }}" class="main-img">
            </div>   
        </div>
        
        <div class="container">
            <div class="onlive">
                <span class="live-shelf-status">Live Shelf Status</span>
                <div class="video-wrapper">
                    <img id="detectionFrame" src="" alt="Detection Feed" class="detection-frame">
                    <div class="loading-spinner" id="loadingSpinner">
                        <div class="spinner"></div>
                    </div>
                </div>
            </div>

            <div class="freshness">
                <span>Freshness Overview</span>
                <div class="overview">
                    <ul>
                        <li>Fresh: <span id="freshCount">0</span></li>
                        <hr>
                        <li>Need Attention: <span id="attentionCount">0</span></li>
                        <hr>
                        <li>Spoiled: <span id="spoiledCount">0</span></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="container-table">
            <table class="table">
                <tr>
                    <th>Fruit</th>
                    <th>Status</th>
                    <th>Shelf</th>
                    <th>Humidity</th>
                    <th>Time</th>
                </tr>
                <tr>
                    <td><img src="IMAGE/pear-image.png" width="50px">Pear</td>
                    <td>[Status]</td>
                    <td>Shelf A</td>
                    <td>[Humidity %]</td>
                    <td>[Time]</td>
                </tr>
                <tr>
                    <td><img src="IMAGE/strawberry-image.png" width="50px">Strawberry</td>
                    <td>[Status]</td>
                    <td>Shelf B</td>
                    <td>[Humidity %]</td>
                    <td>[Time]</td>
                </tr>
                <tr>
                    <td><img src="IMAGE/mangosteen-image.png" width="50px">Mangosteen</td>
                    <td>[Status]</td>
                    <td>Shelf C</td>
                    <td>[Humidity %]</td>
                    <td>[Time]</td>
                </tr>
            </table>
        </div>
        <div class="detection-container">
            <div class="detection-panel">
                <div class="control-panel">
                    <div class="control-buttons">
                        <button id="startBtn" class="btn-control btn-start">
                            <span class="material-icons-outlined">play_arrow</span> Start Detection
                        </button>
                        <button id="stopBtn" class="btn-control btn-stop">
                            <span class="material-icons-outlined">stop</span> Stop
                        </button>
                    </div>
                    <div class="camera-selector">
                        <select id="cameraSelect">
                            <option value="0">Camera 0</option>
                            <option value="1">Camera 1</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="{{ url_for('static', filename='JS/home.js') }}"></script>
</body>

</html>
